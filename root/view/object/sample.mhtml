<%args>
$object
$type
</%args>

<& /view/object/object_top.mhtml, object => $object, 
  field_labels => [qw(name description pipeproject genotype protocol molecule_type
                   treatment_type fractionation_type tissue)] &>

<div>
  <& /view/list.mhtml, type => 'organism', rs => $organisms_rs,
    list_title => "The organism$organism_plu for this sample" &></td>
</div>
<div>
  <& /view/list.mhtml, type => 'sequencingrun', rs => $seqruns_rs,
    list_title => "The sequencing run$seqruns_plu for this sample" &></td>
</div>
<div>
  <& /view/list.mhtml, type => 'pipedata', rs => $pipedatas_rs,
    list_title => "The file$pipedata_plu for this sample" &></td>
</div>
  
<%init>
my $organisms_rs = 
  $object->sample_ecotypes()->search_related('ecotype')->search_related('organism');
my $organisms_count = $organisms_rs->count();
my $organism_plu = ($organisms_count != 1) ? 's' : '';
my $seqruns_rs = $object->coded_samples()->search_related('sequencing_sample')->search_related('sequencingruns');
my $seqruns_count = $seqruns_rs->count();
my $seqruns_plu = ($seqruns_count != 1) ? 's' : '';
my $pipedatas_rs = $object->pipedatas();
my $pipedatas_count = $pipedatas_rs->count();
my $pipedata_plu = ($pipedatas_count != 1) ? 's' : '';
</%init>
